// Styling for decorations, see decorations.js for corresponding elements.

// By default, all decorations are out of view/hidden
#overlay {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s;
  z-index: 1;
  .opacity-10 { opacity: .1; }
  .opacity-20 { opacity: .2; }
  .opacity-30 { opacity: .3; }
  .opacity-40 { opacity: .4; }
  .opacity-50 { opacity: .5; }
  .opacity-60 { opacity: .6; }
  .opacity-70 { opacity: .7; }
  .opacity-80 { opacity: .8; }
  .opacity-90 { opacity: .9; }
  .opacity-100 { opacity: 1; }
}

#logo-color, #logo-part-white, #logo-white {
  transition: opacity 1s, left 1s;
  opacity: 0;
  position: absolute;
  left: -12vw;
  top: 1.5vh;
  z-index: 2;
  img {
    width: 12vw;
  }
}

#right-e {
  transition: right 1s, top 1s;
  position: absolute;
  right: -4vw;
  width: 4vw;
  z-index: 3;
}

#blue-pane{
  transition: opacity 1s;
  background-color: $eScienceBlue;
  opacity: 0;
  position: absolute;
  bottom: 0;
  top: 0;
  z-index: 2;
}

#touch-pane {
  background-color: white;
  transition: opacity 1s;
  opacity: 0;
  position: absolute;
  left: 0;
  right: 66.6%;
  bottom: 0;
  top: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
  h1 {
    color: black;
    text-align: left;
  }
}

#blue-strip {
  background-color: $eScienceBlue;
  transition: left 1s, right 1s;
  margin: 0;
  padding: 0;
  border-radius: 20vw 0 0 0;
  z-index: 2;
  position: absolute;
  right: -100vw;
  bottom: 0;
  #footer {
    text-align: right;
    line-height: 130%;
    padding: 0;
    margin: 1vw 1vw 1vw 3vw;
    bottom: 0;
    right: 0;
  }
}

#yellow-strip {
  background-color: $eScienceYellow;
  width: 10vw;
  height: 70vh;
  border-radius: 10vw 10vw 0 0;
  z-index: 2;
  position: absolute;
  left: -10vw;
  bottom: 0;
  transition: left 1s;
}

#yellow-half-strip {
  opacity: 1;
  transition: bottom 1s;
  position: absolute;
  background-color: $eScienceYellow;
  right: 50%;
  bottom: -25vw;
  width: 17vw;
  height: 25vw;
  border-radius: 20vw 0 0 0;
  z-index: 2;
}

#yellow-flag {
  background-color: $eScienceYellow;
  transition: left 1s, bottom 1s;
  width: 10vh;
  height: 12vh;
  border-radius: 0 6vh 6vh 0;
  z-index: 3;
  position: absolute;
  left: -10vh;
  bottom: 5vh;
  margin: 0;
  padding: 0;
  img {
    position: absolute;
    height: 10vh;
    margin: 1vh 0;
    padding: 0;
  }
}

#purple-strip-bottom {
  opacity: 1;
  transition: bottom 1s;
  position: absolute;
  background-color: $eSciencePurple;
  right: calc(50% + 17vw);
  bottom: -10vw;
  width: 16vw;
  height: 10vw;
  border-radius: 20vw 20vw 0 0;
  z-index: 2;
}

#purple-half-circle-top {
  transition: top 1s;
  opacity: 1;
  position: absolute;
  background-color: $eSciencePurple;
  left: 0;
  top: -17vw;
  width: 34vw;
  height: 17vw;
  border-radius: 0 0 20vw 20vw;
  z-index: 2;
}

#purple-half-circle-bottom {
  transition: bottom 1s;
  background-color: $eSciencePurple;
  width: 20vw;
  height: 10vw;
  border-radius: 20vw 20vw 0 0;
  z-index: 2;
  position: absolute;
  left: 0;
  bottom: -10vw;
  img {
    position: absolute;
    bottom: 2vw;
    left: 6vw;
    width: 8vw;
  }
}

#purple-blob {
  transition: top 1s;
  position: absolute;
  display: flex;
  right: 0;
  top: -50vh;
  z-index: 2;
  div {
    background-color: $eSciencePurple;
  }
  .blob1 {
    width: 10vw;
    height: 25vh;
    border-radius: 0 0 10vw 10vw;
  }
  .blob2 {
    width: 10vw;
    height: 50vh;
    border-radius: 0 0 10vw 10vw;
  }
  .box {
    position: absolute;
    right: 10vw;
    top: 0;
    width: 5vw;
    height: calc(25vh + 5vw);
    background: linear-gradient(45deg,  transparent 10vw, $eSciencePurple 0) bottom left;
    background-image: radial-gradient(circle at 0 100%, rgba(204,0,0,0) 5vw, $eSciencePurple 15px)
  }
}

// Define how decorations look when 'activated', using mixins to avoid repetition
@mixin white-overlay { #overlay { background-color: white; opacity: .8; } }
@mixin black-overlay { #overlay { background-color: black; opacity: .8; } }
@mixin blue-overlay { #overlay { background-color: $eScienceBlue; opacity: .8; } }
@mixin purple-overlay { #overlay { background-color: $eSciencePurple; opacity: .8; } }

@mixin logo-color { #logo-color { left: 3vw; opacity: 1; } }
@mixin logo-white { #logo-white { left: 3vw; opacity: 1; } }
@mixin logo-part-white { #logo-part-white { left: 3vw; opacity: 1; } }

@mixin yellow-flag { #yellow-flag { left: 0; } }
@mixin yellow-strip { #yellow-strip { left: 0; } }
@mixin yellow-half-strip { #yellow-half-strip { bottom: 0; } }

@mixin purple-blob { #purple-blob { top: 0; }}
@mixin purple-half-circle-top { #purple-half-circle-top { top: 0; } }
@mixin purple-half-circle-bottom { #purple-half-circle-bottom { bottom: 0; } }
@mixin purple-strip-bottom { #purple-strip-bottom { bottom: 0; } }

@mixin touch-pane { #touch-pane { opacity: 1; } }
@mixin blue-pane-left { #blue-pane { opacity: 1; left: 0; right: 50%;} }
@mixin blue-pane-right { #blue-pane { opacity: 1; left: 50%; right: 0;} }

@mixin right-e-top { #right-e { top: 10vh; right: 0; }}
@mixin right-e-bottom { #right-e { top: 80vh; right: 0; }}


// data-state changes set classes on the reveal-viewport element
// so this is where we can build up our custom classes
.reveal-viewport {

  // Classes for toggling individual elements

  // e.g. "for any element with the .reveal-viewport class that also has the
  // .white-overlay class, apply the 'white-overlay' styling rule", etc.
  &.white-overlay { @include white-overlay; }
  &.black-overlay { @include black-overlay; }
  &.blue-overlay { @include blue-overlay; }
  &.purple-overlay { @include purple-overlay; }
  &.logo-color { @include logo-color; }
  &.logo-white { @include logo-white; }
  &.logo-part-white { @include logo-part-white; }
  &.yellow-flag { @include yellow-flag }
  &.yellow-strip { @include yellow-strip; }
  &.yellow-half-strip { @include yellow-half-strip; }
  &.purple-blob { @include purple-blob; }
  &.purple-half-circle-top { @include purple-half-circle-top; }
  &.purple-half-circle-bottom { @include purple-half-circle-bottom; }
  &.purple-strip-bottom { @include purple-strip-bottom; }
  &.touch-pane { @include touch-pane; }
  &.blue-pane-left { @include blue-pane-left; }
  &.blue-pane-right { @include blue-pane-right; }
  &.right-e-top { @include right-e-top; }
  &.right-e-bottom { @include right-e-bottom; }

  // Adjust position of yellow flag when combined with purple half circle
  &.purple-half-circle-bottom.yellow-flag { #yellow-flag { bottom: 20vh; } }

  // Classes for toggling multiple elements at once; default styles
  &.standard {
    @include logo-color;
    @include white-overlay;
    @include yellow-flag;
  }
  &.two-pane {
    // why not just use "standard blue-pane-right" directly?
    @include logo-color;
    @include yellow-flag;
    @include white-overlay;
    @include blue-pane-right;
  }
  &.about {
    @include logo-white;
    @include white-overlay;
    @include blue-pane-left;
    @include purple-half-circle-top;
    @include purple-strip-bottom;
    @include yellow-half-strip;
  }
  &.touch {
    @include logo-color;
    @include blue-overlay;
    @include touch-pane;
    @include purple-blob;
    @include right-e-bottom;
  }
}
